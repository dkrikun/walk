#!/bin/bash

target=$2

deps() {
  echo ../bundled # ensure that we've installed the sass gem
  # Depend on all *.sass files, in case there are imports. In reality, it
  # would be nice if sass would tell us what a files dependencies were here.
  find . -type f -iname '*.sass'
}

convert() {
  bundle exec sass ${target%.css}.sass > $target
}

case $1 in
  deps) deps ;;
  exec) convert ;;
esac
